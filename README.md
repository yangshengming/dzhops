# dzhops
+ 使用Django框架开发的Salt Stack Web UI
+ 开发语言: python;
+ 后端框架: Django;
+ 前端框架：bootstrap/jquery;
+ 本项目fork自Hasal/dzhops，主要是添加一些我个人习惯使用saltstack的一些功能和调整，感谢原作者的贡献。

##环境：
+ CentOS 7.2 x86_64
+ salt 2015.8.8
+ salt-master 2015.8.8
+ salt-minion 2015.8.8
+ salt-api 2015.8.8
+ salt-ssh 2015.8.8
+ Django 1.8.7

##更新记录：
    > 添加test.ping模块；
    > 添加salt-ssh模块；
    > 界面修改输入框为下拉选项框；
    > 界面添加host验证；
    > 其他一些小的调整改动；

## 功能介绍
1.**登陆页面**

2.**首页**
显示SaltMaster所在服务器及相关组件状态信息
目前监控数据，都是通过独立的信息采集脚本完成，需要做计划任务。

3.**主机列表**
进入主机列表界面，可以选择机房和维护人员，使用ajax处理，每次选择会从库中重新查询符合条件的数据；
这些服务器相关的信息支持自动采集，由于目前写的方法只能完成采集任务，所以并没有将链接放出来，不过可以通过访问指定链接进行访问。

4.**SaltStack**
可完成如下功能：
+ 服务器初始化（如模块部署等）
+ 程序、配置更新
+ 日常维护操作
+ 远程命令执行
+ 验证salt-minion连接
+ salt-ssh初始化salt集群以及执行操作

当对Minion执行操作时，会记录本次目标Minion的数量，然后与返回结果的Minion数量进行对比，找出哪些没有返回结果；当接收到返回结果后，使用bootstrap的模态框显示结果，其中蓝色表示执行成功，红色表示有失败存在，可以点击标签查看详细情况；

5.**MinionKeys管理**
可以分别选择已接受、待接受、已拒绝，并且可以选择机房及维护人员，进行对应的管理操作；

6.**操作记录**
可以记录每次操作执行人的账号、操作、目标、及jid，并可以通过jid查看该次操作的返回结果详细情况。

7.**更多细节不再赘述**
